apiVersion: v1
kind: Pod
metadata:
    creationTimestamp: null
    labels:
        component: kube-scheduler
        tier: control-plane
    name: custom-queue-scheduler
    namespace: kube-system
spec:
    containers:
        - command:
              - kube-scheduler
              - --authentication-kubeconfig=/etc/kubernetes/scheduler.conf
              - --authorization-kubeconfig=/etc/kubernetes/scheduler.conf
              - --bind-address=0.0.0.0
              - --kubeconfig=/etc/kubernetes/scheduler.conf
              - --leader-elect=true
              - --config=/etc/kubernetes/queueschedulerconfig.yaml
        - image: johanliebert12/sigs.k8s.io-custom-scheduler:0.1.1
          imagePullPolicy: IfNotPresent
          name: kube-scheduler
          resources:
              requests:
                  cpu: 100m
          volumeMounts:
              - mountPath: /etc/kubernetes/scheduler.conf
                name: kubeconfig
                readOnly: true
    hostNetwork: true
    priorityClassName: system-node-critical
    securityContext:
        seccompProfile:
            type: RuntimeDefault
    volumes:
        - hostPath:
              path: /etc/kubernetes/scheduler.conf
              type: FileOrCreate
          name: kubeconfig
